<!DOCTYPE html>
<html lang="en">
<head>
  <title>Reflex Game</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
  <header>Jacen Piatt Reflexes</header>
  <h2>Reflex Timer Game</h2>

  <button id="go-btn" type="button" class="btn btn-success">Go</button>
  <button id="halt-btn" type="button" class="btn btn-danger">Halt</button>

  <p id="counter">Count: </p>
  <p id="target">Your time: </p>

  <script>
    let haltTime;
    let countdown;
    
    function recordTime() {
        haltTime = Date.now();
    }

    document.getElementById("halt-btn").onclick = recordTime;

    function beginTime() {
        haltTime = undefined;
        document.getElementById("target").innerText = "Your time: ";
        let counter = document.getElementById("counter");

        for (let i = 0; i <= 5; i++) {
            setTimeout(() => {
                counter.innerText = `Count: ${5 - i}`;
            }, i * 1000);
        }

        setTimeout(() => {
            if (!haltTime) {
                document.getElementById("target").innerText = "Not soon enough!";
            } else {
                let reactionTime = Date.now() - haltTime;
                document.getElementById("target").innerText = `Time was ${reactionTime} ms`;
            }
        }, 5000);
    }

    document.getElementById("go-btn").onclick = beginTime;
  </script>

</body>
</html>
